---
post_title: "Playwright Python Test Generation Use Cases"
author1: "github-copilot"
post_slug: "playwright-python-test-generation-use-cases"
microsoft_alias: "copilot"
featured_image: ""
categories: []
tags: ["use-cases", "testing"]
ai_note: "Generated with AI assistance."
summary: "基于 Playwright Python 官方文档的测试生成最佳实践，涵盖测试结构、定位策略、断言机制、文件组织、质量标准、执行调试和高级场景"
post_date: "2025-10-28"
---

<!-- markdownlint-disable MD041 -->

## What

- 基于 Playwright Python 官方文档的测试生成指令，提供完整的端到端 Web 测试编写指导

## When

- 在使用 Python 和 Playwright 进行 Web 应用自动化测试时
- 需要建立测试项目结构、编写高质量测试用例时
- 优化测试可维护性、增强测试可靠性和可访问性时

## Why

- 提供基于官方文档的标准化测试编写规范
- 确保测试代码具有良好可读性和可维护性
- 提升测试的稳定性和抗页面变化能力
- 遵循可访问性最佳实践，增强测试包容性

## How

- 使用角色定位器（get_by_role, get_by_label）替代脆弱的 CSS/XPath 选择器
- 采用 web-first 断言 API，避免硬编码等待和超时间设置
- 遵循统一的测试结构和文件组织规范
- 使用描述性测试名称和清晰的断言命名
- 利用 Pytest  fixture 管理测试依赖和共享逻辑

## Key points (英文+中文对照)

- **Role-based locators**（基于角色的定位器）- 优先选择用户面向的定位方式，提高测试可访问性和稳定性
- **Web-first assertions**（Web优先断言）- 使用 auto-retrying expect API，替代传统的硬编码等待机制
- **Page fixtures**（页面fixture）- 通过标准 Pytest fixture 管理浏览器页面实例
- **Descriptive naming**（描述性命名）- 使用清晰的测试函数名明确表达测试意图
- **Auto-waiting mechanisms**（自动等待机制）- 依赖 Playwright 内置的智能等待，避免显式等待

## 使用场景

### 1. 基础测试设置与结构

- 用户故事：作为测试工程师，我需要建立标准化的 Playwright Python 测试项目结构，以便团队成员能够快速上手并遵循统一规范
- 例 1："请帮我创建标准的 Playwright Python 测试项目结构，包括必要的导入语句和基础配置"
- 例 2："根据提供的应用页面，帮我设置基础测试fixture和页面导航逻辑"
- 例 3："请基于现有项目结构，规范化所有测试文件的导入语句和基础设置"
- 例 4："创建一个通用的 before_each_after_each fixture 来处理页面导航和基础设置"
- 例 5："请帮我为新的测试模块设置标准的导入语句和页面fixture模板"

### 2. 元素定位与选择策略

- 用户故事：作为前端测试工程师，我需要使用稳定可靠的元素定位策略来编写抗页面变化的测试用例
- 例 1："请帮我审查现有测试文件中的定位器，并将其转换为基于角色的定位方式（get_by_role, get_by_label, get_by_text）"
- 例 2："针对指定的页面元素，请推荐最适合的 Playwright 定位策略并编写相应的定位器代码"
- 例 3："请将所有使用 CSS 选择器和 XPath 的定位器迁移到更可靠的 role-based 定位器"
- 例 4："分析页面结构并提供用户面向的元素定位方案，替代当前的脆弱定位方式"
- 例 5："请为复杂的动态元素创建稳定的多级定位策略，确保测试的健壮性"

### 3. 断言与验证机制

- 用户故事：作为质量保障工程师，我需要使用现代化的断言 API 来编写可靠的测试验证逻辑，确保测试结果准确性
- 例 1："请帮我将现有的 assert 语句转换为 Playwright 的 web-first expect API"
- 例 2："为页面标题验证编写标准的 expect(page).to_have_title() 断言"
- 例 3："请为元素文本内容验证创建精确匹配和部分匹配的断言策略"
- 例 4："设计元素计数验证的断言方案，使用 expect(locator).to_have_count()"
- 例 5："为页面 URL 导航验证创建标准化的断言逻辑，确保测试的可靠性"

### 4. 测试文件组织与命名

- 用户故事：作为项目维护者，我需要建立清晰的测试文件组织结构，让团队能够快速定位和管理测试用例
- 例 1："请帮我根据应用功能模块规划测试目录结构，确保一个文件对应一个主要功能"
- 例 2："批量重命名测试文件以符合 test_功能或页面.py 的命名规范"
- 例 3："请分析现有测试文件并重新组织到合适的目录结构中"
- 例 4："创建测试文件的范围划分标准，指导团队成员确定单个测试文件的合适大小"
- 例 5："为新功能设计测试文件的组织方案，包括目录结构和命名约定"

### 5. 测试质量与可维护性

- 用户故事：作为代码审查者，我需要确保测试代码具有良好的可读性和可维护性，减少技术债务
- 例 1："请审查测试函数名称，确保它们清晰表达测试意图，如 test_navigation_link_works()"
- 例 2："分析现有测试代码并移除无意义的注释，添加必要的复杂逻辑说明"
- 例 3："优化测试代码的可读性，重构复杂的断言逻辑为清晰的步骤"
- 例 4："为测试文件创建统一的头部注释和文档说明"
- 例 5："请创建测试代码质量检查清单，用于团队代码审查"

### 6. 测试执行与调试

- 用户故事：作为测试执行者，我需要掌握有效的测试运行和故障排查方法，快速定位和修复测试问题
- 例 1："请帮我设置 pytest 命令的标准执行方式，包括并行执行和详细输出"
- 例 2："创建测试失败分析流程，帮助快速识别根本原因"
- 例 3："配置测试执行环境变量和配置文件，确保测试在不同环境下的一致性"
- 例 4："设计测试调试策略，包括断点调试和日志输出优化"
- 例 5："创建测试报告生成和结果分析的标准流程"

### 7. 高级测试场景与最佳实践

- 用户故事：作为高级测试工程师，我需要处理复杂的测试场景和团队协作需求，提升整体测试效率
- 例 1："设计共享测试逻辑的重构方案，使用 Pytest fixtures 避免代码重复"
- 例 2："为跨多个页面的复杂用户流程创建可复用的测试模式"
- 例 3："分析测试执行性能，优化测试运行时间和资源消耗"
- 例 4："创建测试环境管理和数据准备的标准化流程"
- 例 5："设计团队测试规范文档，包括代码审查清单和最佳实践指南"

## 原始文件

- [instructions/playwright-python.instructions.md](file:///d%3A/mycode/awesome-copilot/instructions/playwright-python.instructions.md)
