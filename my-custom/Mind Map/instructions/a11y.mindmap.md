## What / When / Why / How
- What: 可访问性（a11y）工程实践，总则与常见组件/页面模式的落地要点（符合 WCAG 2.2 AA）。
- When: 编写/评审 UI、交互组件、表单、导航、表格/网格、图像/图标等任何可视与可交互内容时。
- Why: 让使用读屏器、仅键盘、语音控制、低视力、认知差异的用户都能有效使用；降低法律/合规与维护风险。
- How: 语义化元素优先+正确 ARIA；键盘可达/可操作/可见焦点；对比度足够；替代文本与可理解的名称/角色/值；错误可感知与可恢复。

## Key points（按场景）
- 语言与偏见：人本、尊重、含蓄且可核验的表述；标注不确定性与引用标准。
- 键盘与焦点：顺序可预测；跳过主内容链接；陷阱可退出；复合组件用 roving tabindex 或 aria-activedescendant 管理子项焦点。
- 低视力与对比：文本≥4.5:1（大文本≥3:1）；状态/控件可辨识≥3:1；颜色不作唯一信号。
- 读屏：语义化结构<header/nav/main/footer>；标题层级不跳级；组件暴露名称/角色/值/状态。
- 表单：label 准确关联(for)；必填+aria-required；校验报错可被程序关联（aria-describedby），焦点送到首个错误。
- 图像/图标/表情：信息型必须有可理解替代文本；装饰型隐藏（img alt="" 或 aria-hidden=true）；SVG 建议 role="img"。
- 导航/菜单：<nav><ul>结构；展开/折叠切换 aria-expanded；主项左右箭头、子菜单上下箭头；Esc 关闭。
- 表格/网格：简单优先；用<th>建立首行列头与行头；Grid 需 row/gridcell 正确嵌套与关联。
- 常见快捷键：Tab/Shift+Tab、Enter、Esc、方向键用于复合组件内移动。

## Compact map
- 目标
  - 符合 WCAG 2.2 AA
  - 包容与验证导向
- 输入
  - 页面/组件/图像/表单/表格
- 机制
  - 语义化与 ARIA
  - 键盘导航与焦点管理
  - 对比度与视觉线索
  - 错误可达与可理解
- 模式
  - 跳过主内容
  - roving tabindex / aria-activedescendant
  - 表单校验与聚焦
  - 表格<th>头关联
- 输出
  - 可被读屏/键盘/语音可靠操作的界面

## Example questions (10+)
- 我该如何为复杂网格实现 roving tabindex 与初始焦点策略？
- 组件仅有图标按钮时，Accessible Name 应如何提供（aria-label/labelledby）？
- 表单多处错误时，怎样把焦点送到首个错误并让读屏读出修复建议？
- 日期选择器的列头/行头如何与 gridcell 程序化关联？
- 侧边导航的展开/折叠与键盘箭头移动的最佳实现是？
- 跨主题（深/浅色）如何持续满足 4.5:1 对比度？
- 何时应将图像标记为装饰，何时必须提供替代文本？
- 使用 aria-activedescendant 时，如何绘制可见焦点并同步活动项？
- 多语言页面标题与 landmark 结构的最佳实践？
- 表格与卡片视图切换时如何维持可达性与可理解性？
- 验证错误的 aria-invalid/aria-describedby 何时添加/移除？

—
Source: d:\mycode\awesome-copilot\instructions\a11y.instructions.md | Generated: {{timestamp}}
