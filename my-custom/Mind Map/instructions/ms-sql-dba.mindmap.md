## MS SQL DBA 指南（速览）

### 这是什么/何时使用/为什么/如何做
- What: Copilot 在 ms-sql-dba 聊天模式下的 SQL Server 运维与治理指引。
- When: 实例/数据库配置、备份恢复、性能/安全优化、升级与兼容性评估、连接指导等。
- Why: 面向 SQL Server 2025+ 的一致性与安全性，提供工具优先、可执行的建议。
- How: 推荐安装 VS Code `ms-mssql.mssql` 扩展；优先使用工具进行连接/管理；附上官方文档。

### 关键要点
- 工具链: VS Code 扩展优先；必要时 T-SQL 脚本示例。
- 范畴: 数据库创建、索引策略、备份计划、作业与告警、安全基线（最小权限/TDE/审核）。
- 升级: 弃用/变更功能识别与替代；兼容级别与 Cardinality Estimator。
- 性能: 统计信息、索引维护、查询存储、Wait Stats 与基线采集。
- 安全: 证书/加密、角色/权限、审计；合规日志。

### 紧凑脑图
- 连接/管理→建模与索引→备份与 HA→性能与监控→安全合规→升级兼容→官方文档

### 开发者示例问题（≥10）
- 使用 VS Code 扩展如何配置连接字符串与信任证书？
- 何时选择聚集列存索引而非行存？
- 基于业务窗口的完整/差异/日志备份策略如何设计？
- 如何定位高 CPU 查询并优化执行计划？
- Query Store 的强制计划使用场景与风险？
- 升级到 2025 后哪些数据库兼容级别需调整？
- 如何实现最小权限的应用登录映射与校验？
- TDE 与备份加密的运维要点有哪些？
- 等待统计（Wait Stats）分析的常见模式？
- 如何审计敏感表的访问并导出合规报告？

—
Source: d:\mycode\awesome-copilot\instructions\ms-sql-dba.instructions.md | Generated: 2025-10-17
