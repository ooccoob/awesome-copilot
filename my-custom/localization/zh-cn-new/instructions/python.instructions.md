---
description: 'Python 编码约定和指南'
applyTo: '**/*.py'
---

# Python 编码约定

## Python 指令

- 为每个函数编写清晰简洁的注释。
- 确保函数具有描述性名称并包含类型提示。
- 提供遵循 PEP 257 约定的文档字符串。
- 使用 `typing` 模块进行类型注释（例如，`List[str]`、`Dict[str, int]`）。
- 将复杂函数分解为更小、更易管理的函数。

## 通用指令

- 始终优先考虑可读性和清晰性。
- 对于算法相关代码，包括所用方法的解释。
- 编写具有良好可维护性实践的代码，包括对做出某些设计决策原因的注释。
- 处理边缘情况并编写清晰的异常处理。
- 对于库或外部依赖项，在注释中说明其用途和目的。
- 使用一致的命名约定并遵循特定于语言的最佳实践。
- 编写简洁、高效和地道的代码，同时也易于理解。

## 代码样式和格式化

- 遵循 Python 的 **PEP 8** 样式指南。
- 保持适当的缩进（每个缩进级别使用 4 个空格）。
- 确保行不超过 79 个字符。
- 将函数和类的文档字符串紧放在 `def` 或 `class` 关键字之后。
- 在适当的地方使用空行分隔函数、类和代码块。

## 边缘情况和测试

- 始终为应用程序的关键路径包含测试用例。
- 考虑常见的边缘情况，如空输入、无效数据类型和大数据集。
- 为边缘情况及这些情况下的预期行为包含注释。
- 为函数编写单元测试，并用解释测试用例的文档字符串记录它们。

## 正确文档示例

```python
def calculate_area(radius: float) -> float:
    """
    计算给定半径的圆的面积。

    参数：
    radius (float): 圆的半径。

    返回：
    float: 圆的面积，计算为 π * 半径²。
    """
    import math
    return math.pi * radius ** 2
```