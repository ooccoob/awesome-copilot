---
applyTo: '**/.copilot-tracking/changes/*.md'
description: '实现具有渐进跟踪和变更记录的任务计划的指令 - 由 microsoft/edge-ai 提供'
---

# 任务计划实现指令

您将实现位于 `.copilot-tracking/plans/**` 和 `.copilot-tracking/details/**` 中的特定任务计划。您的目标是逐步且完整地实现计划文件中的每个步骤，创建满足所有指定要求的高质量、可工作的软件。

实现进度必须在位于 `.copilot-tracking/changes/**` 的相应变更文件中进行跟踪。

## 核心实现过程

### 1. 计划分析和准备

**在开始实现之前必须完成：**
- **强制性**：阅读并完全理解完整的计划文件，包括范围、目标、所有阶段和每个检查清单项目
- **强制性**：阅读并完全理解相应的变更文件——如果上下文中缺少任何部分，使用 `read_file` 回读整个文件
- **强制性**：识别计划中提到的所有引用文件并检查它们以获取上下文
- **强制性**：理解当前项目结构和约定

### 2. 系统实现过程

**系统地实现计划中的每个任务：**

1. **按顺序处理任务** - 完全按照计划序列执行，一次一个任务
2. **实现任何任务前的强制性步骤：**
   - **始终确保实现与计划中的特定任务相关联**
   - **始终**从 `.copilot-tracking/details/**` 中相应的详细信息 markdown 文件中**读取该任务的整个详细信息部分**
   - 在继续之前**完全理解**所有实现细节
   - 根据需要收集任何其他必需的上下文

3. **使用可工作的代码完全实现任务：**
   - 遵循工作区中现有的代码模式和约定
   - 创建满足详细信息中指定的所有任务要求的可工作功能
   - 包括适当的错误处理、文档和遵循最佳实践

4. **标记任务完成并更新变更跟踪：**
   - 更新计划文件：将已完成任务的 `[ ]` 更改为 `[x]`
   - **完成每个任务后的强制性**：通过附加到适当的已添加、已修改或已删除部分来更新变更文件，包含相对文件路径和所实现内容的一句话摘要
   - **强制性**：如果任何变更与任务计划和详细信息有分歧，在相关部分中特别说明变更是在计划之外进行的，并包含具体原因
   - 如果阶段中的所有任务都已完成 `[x]`，将阶段标题标记为已完成 `[x]`

### 3. 实现质量标准

**每个实现必须：**
- 遵循现有的工作区模式和约定（检查 `copilot/` 文件夹中的标准）
- 实现满足所有任务要求的完整、可工作的功能
- 包括适当的错误处理和验证
- 使用工作区中一致的命名约定和代码结构
- 为复杂逻辑添加必要的文档和注释
- 确保与现有系统和依赖项的兼容性

### 4. 持续进度和验证

**实现每个任务后：**
1. 根据详细信息文件中的任务要求验证所做的变更
2. 在移动到下一个任务之前修复任何问题
3. **强制性**：更新计划文件以标记已完成任务 `[x]`
4. **每次任务完成后的强制性**：通过附加到已添加、已修改或已删除部分来更新变更文件，包含相对文件路径和所实现内容的一句话摘要
5. 继续到下一个未检查的任务

**继续直到：**
- 计划中的所有任务都标记为已完成 `[x]`
- 所有指定的文件都已创建或更新为可工作代码
- 计划中的所有成功标准都已验证

### 5. 参考收集指南

**收集外部引用时：**
- 专注于实际实现示例而不是理论文档
- 验证外部源包含实际可用的模式
- 调整外部模式以匹配工作区约定和标准

**从引用实现时：**
- 首先遵循工作区模式和约定，其次遵循外部模式
- 实现完整的、可工作的功能而不仅仅是示例
- 确保所有依赖项和配置都正确集成
- 确保实现在现有项目结构内工作

### 6. 完成和文档化

**当以下情况时实现完成：**
- 所有计划任务都标记为已完成 `[x]`
- 所有指定的文件都存在可工作代码
- 计划中的所有成功标准都已验证
- 没有实现错误 remain

**最后一步 - 使用发布摘要更新变更文件：**
- 仅在所有阶段都标记为已完成 `[x]` 后才添加发布摘要部分
- 为发布文档记录完整的文件清单和整体实现摘要

### 7. 问题解决

**遇到实现问题时：**
- 清楚地记录具体问题
- 尝试替代方法或搜索词
- 当外部引用失败时使用工作区模式作为回退
- 使用可用信息继续而不是完全停止
- 在计划文件中记录任何未解决的问题以供将来参考

## 实现工作流

```
1. 阅读并完全理解计划文件和所有检查清单
2. 阅读并完全理解变更文件（如果缺少上下文则重读整个文件）
3. 对于每个未检查的任务：
   a. 从详细信息 markdown 文件中读取该任务的整个详细信息部分
   b. 完全理解所有实现要求
   c. 使用遵循工作区模式的可工作代码实现任务
   d. 验证实现满足任务要求
   e. 在计划文件中标记任务完成 [x]
   f. 使用已添加、已修改或已删除条目更新变更文件
   g. 在相关部分中说明任何与计划/详细信息的分歧，并附上具体原因
4. 重复直到所有任务完成
5. 仅在所有阶段都完成后 [x]：将最终发布摘要添加到变更文件
```

## 成功标准

当以下情况时实现完成：
- ✅ 所有计划任务都标记为已完成 `[x]`
- ✅ 所有指定文件都包含可工作代码
- ✅ 代码遵循工作区模式和约定
- ✅ 所有功能在项目中按预期工作
- ✅ 每次任务完成后都更新变更文件，包含已添加、已修改或已删除条目
- ✅ 变更文件记录所有阶段，包含详细的发布就绪文档和最终发布摘要

## 模板变更文件

使用以下作为跟踪发布实现进度的变更文件模板。
用适当的值替换 `{{ }}`。在 `./.copilot-tracking/changes/` 中创建此文件，文件名：`YYYYMMDD-task-description-changes.md`

**重要**：每次任务完成后通过附加到已添加、已修改或已删除部分来更新此文件。
**强制性**：始终在变更文件顶部包含以下内容：`<!-- markdownlint-disable-file -->`

<!-- <changes-template> -->
```markdown
<!-- markdownlint-disable-file -->
# 发布变更：{{任务名称}}

**相关计划**：{{计划文件名}}
**实现日期**：{{YYYY-MM-DD}}

## 摘要

{{为此发布所做的整体变更的简要描述}}

## 变更

### 已添加

- {{相对文件路径}} - {{所实现内容的一句话摘要}}

### 已修改

- {{相对文件路径}} - {{所变更内容的一句话摘要}}

### 已删除

- {{相对文件路径}} - {{所删除内容的一句话摘要}}

## 发布摘要

**受影响文件总数**：{{数字}}

### 创建的文件（{{数量}}）

- {{文件路径}} - {{目的}}

### 修改的文件（{{数量}}）

- {{文件路径}} - {{所做的变更}}

### 删除的文件（{{数量}}）

- {{文件路径}} - {{原因}}

### 依赖项和基础设施

- **新依赖项**：{{新依赖项列表}}
- **更新的依赖项**：{{更新的依赖项列表}}
- **基础设施变更**：{{基础设施更新}}
- **配置更新**：{{配置变更}}

### 部署说明

{{任何特定的部署考虑或步骤}}
```
<!-- </changes-template> -->