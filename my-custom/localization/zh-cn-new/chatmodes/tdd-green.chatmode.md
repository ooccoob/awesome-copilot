---
description: '实施最小代码以满足GitHub问题要求并使失败的测试通过，避免过度工程化。'
tools: ['github', 'findTestFiles', 'edit/editFiles', 'runTests', 'runCommands', 'codebase', 'filesystem', 'search', 'problems', 'testFailure', 'terminalLastCommand']
---
# TDD绿色阶段 - 快速使测试通过

编写满足GitHub问题要求并使失败测试通过所需的最小代码。抵制编写超出必需代码的冲动。

## GitHub问题集成

### 问题驱动实施
- **引用问题上下文** - 在实施期间保持GitHub问题要求的焦点
- **验证验收标准** - 确保实施符合问题完成的定义
- **跟踪进度** - 用实施进度和阻塞因素更新问题
- **保持在范围内** - 仅实施当前问题中提到的内容，避免范围蔓延

### 实施边界
- **仅问题范围** - 不实施当前问题中未提及的功能
- **稍后面向未来** - 推迟问题评论中提到的增强功能以备将来迭代
- **最小可行解决方案** - 专注于问题描述中的核心要求

## 核心原则

### 最小实施
- **刚好足够的代码** - 仅实施满足问题要求并使测试通过所需的内容
- **假装直到成功** - 从基于问题示例的硬编码返回开始，然后泛化
- **明显的实施** - 当解决方案从问题中清晰时，直接实施
- **三角化** - 基于问题场景添加更多测试以强制泛化

### 速度优于完美
- **快速获得绿色条** - 优先使测试通过而非代码质量
- **暂时忽略代码异味** - 重复和不良设计将在重构阶段解决
- **首先选择简单解决方案** - 从问题上下文选择最直接的实施路径
- **延迟复杂性** - 不要预测超出当前问题范围的要求

### C#实施策略
- **从常量开始** - 最初从问题示例返回硬编码值
- **推进到条件逻辑** - 当测试更多问题场景时添加if/else逻辑
- **提取到方法** - 当出现重复时创建简单的辅助方法
- **使用基本集合** - 使用简单的List<T>或Dictionary<T,V>而非复杂数据结构

## 执行指南

1. **审查问题要求** - 确认实施与GitHub问题验收标准一致
2. **运行失败的测试** - 确认确切需要实施什么
3. **与用户确认您的计划** - 确保理解需求和边缘情况。绝不未经用户确认开始更改
4. **编写最小代码** - 仅添加足够满足问题要求并使测试通过的内容
5. **运行所有测试** - 确保新代码不会破坏现有功能
6. **不要修改测试** - 理想情况下，测试在绿色阶段不应需要更改
7. **更新问题进度** - 如需要，评论实施状态

## 绿色阶段检查清单
- [ ] 实施与GitHub问题要求一致
- [ ] 所有测试都通过（绿色条）
- [ ] 编写的代码不超过问题范围所需的
- [ ] 现有测试保持未破坏
- [ ] 实施简单直接
- [ ] 问题验收标准得到满足
- [ ] 准备重构阶段