---
mode: 'agent'
description: '遵循行业最佳实践和架构文档标准更新现有面向对象组件文档。'
tools: ['changes', 'codebase', 'edit/editFiles', 'extensions', 'fetch', 'githubRepo', 'openSimpleBrowser', 'problems', 'runTasks', 'search', 'searchResults', 'terminalLastCommand', 'terminalSelection', 'testFailure', 'usages', 'vscodeAPI']
---
# 更新标准OO组件文档

通过分析相应组件代码更新位于：`${file}`的现有文档文件。

从现有文档的前置内容（`component_path`字段）提取组件路径或从文档内容推断。分析当前组件实现并相应更新文档。

**文档标准：**

- DOC-001：遵循C4模型文档级别（上下文、容器、组件、代码）
- DOC-002：与Arc42软件架构文档模板对齐
- DOC-003：符合IEEE 1016软件设计描述标准
- DOC-004：使用敏捷文档原则（刚好足够的增值文档）
- DOC-005：以开发者和维护者为主要目标受众

**分析指令：**

- ANA-001：阅读现有文档以了解组件上下文和结构
- ANA-002：从前置内容或内容分析识别组件路径
- ANA-003：检查当前源代码文件的类结构和继承
- ANA-004：将现有文档与当前实现比较
- ANA-005：识别设计模式和架构更改
- ANA-006：更新公共API、接口和依赖关系
- ANA-007：识别新/更改的创建性/结构性/行为性模式
- ANA-008：更新方法参数、返回值、异常
- ANA-009：重新评估性能、安全性、可靠性、可维护性
- ANA-010：更新集成模式和数据流

**特定语言优化：**

- LNG-001：**C#/.NET** - async/await、依赖注入、配置、释放
- LNG-002：**Java** - Spring框架、注解、异常处理、打包
- LNG-003：**TypeScript/JavaScript** - 模块、异步模式、类型、npm
- LNG-004：**Python** - 包、虚拟环境、类型提示、测试

**更新策略：**

- UPD-001：保留现有文档结构和格式
- UPD-002：将`last_updated`字段更新为当前日期
- UPD-003：如存在则在前置内容中保留版本历史
- UPD-004：如果组件显著扩展则添加新节
- UPD-005：标记弃用功能或破坏性更改
- UPD-006：更新示例以反映当前API
- UPD-007：刷新依赖项列表和版本
- UPD-008：更新mermaid图表以反映当前架构

**错误处理：**

- ERR-001：文档文件不存在 - 提供文件位置指导
- ERR-002：文档中未找到组件路径 - 请求澄清
- ERR-003：源代码已移动 - 建议更新路径
- ERR-004：主要架构更改 - 突出破坏性更改
- ERR-005：源代码访问不足 - 记录限制

**输出格式：**

更新现有Markdown文件，在保持结构的同时刷新内容以匹配当前实现。保留格式、标题层次结构和现有组织决策。

**必需文档结构：**

遵循相同的模板结构更新现有文档，确保所有节反映当前实现：

```md
---
title: [组件名称] - 技术文档
component_path: [当前组件路径]
version: [如适用则更新版本]
date_created: [原始创建日期 - 保留]
last_updated: [YYYY-MM-DD - 更新为当前日期]
owner: [保留现有或如更改则更新]
tags: [基于当前功能按需更新标签]
---

# [组件名称]文档

[更新介绍以反映当前组件目的和能力]

## 1. 组件概述

### 目的/责任
- OVR-001：更新组件的主要责任
- OVR-002：刷新范围（包含/排除的功能）
- OVR-003：更新系统上下文和关系

## 2. 架构节

- ARC-001：更新使用的设计模式（仓储、工厂、观察者等）
- ARC-002：刷新内部和外部依赖关系及其当前目的
- ARC-003：更新组件交互和关系
- ARC-004：更新可视化图表（UML类、序列、组件）
- ARC-005：刷新显示当前组件结构、关系和依赖关系的mermaid图表

### 组件结构和依赖关系图表

更新mermaid图表以显示当前：
- **组件结构** - 当前的类、接口及其关系
- **内部依赖** - 组件当前如何在系统内交互
- **外部依赖** - 当前的外部库、服务、数据库、API
- **数据流** - 依赖关系和交互的当前方向
- **继承/组合** - 当前的类层次结构和组合关系

```mermaid
[更新图表以反映当前架构]
```

## 3. 接口文档

- INT-001：更新所有公共接口和当前使用模式
- INT-002：使用当前API刷新方法/属性引用表
- INT-003：更新事件/回调/通知机制

| 方法/属性 | 目的 | 参数 | 返回类型 | 使用说明 |
|-----------------|---------|------------|-------------|-------------|
| [使用当前API更新表] | | | | |

## 4. 实现细节

- IMP-001：更新主要实现类和当前责任
- IMP-002：刷新配置要求和初始化模式
- IMP-003：更新关键算法和业务逻辑
- IMP-004：更新性能特征和瓶颈

## 5. 使用示例

### 基本使用

```csharp
// 更新基本使用示例到当前API
```

### 高级使用

```csharp
// 将高级配置模式更新到当前实现
```

- USE-001：更新基本使用示例
- USE-002：刷新高级配置模式
- USE-003：更新最佳实践和推荐模式

## 6. 质量属性

- QUA-001：更新安全性（身份验证、授权、数据保护）
- QUA-002：刷新性能（特征、可扩展性、资源使用）
- QUA-003：更新可靠性（错误处理、容错、恢复）
- QUA-004：刷新可维护性（标准、测试、文档）
- QUA-005：更新可扩展性（扩展点、自定义选项）

## 7. 参考信息

- REF-001：使用当前版本和目的更新依赖项
- REF-002：刷新配置选项参考
- REF-003：更新测试指导和模拟设置
- REF-004：刷新故障排除（常见问题、错误消息）
- REF-005：更新相关文档链接
- REF-006：为此更新添加更改历史和迁移说明
```