---
name: ".NET升级分析提示"
description: "用于全面.NET框架升级分析和执行的就绪可用提示"
prompts:
---
  # 项目发现和评估
  - name: "项目分类分析"
    prompt: "识别解决方案中的所有项目并按类型分类（`.NET Framework`、`.NET Core`、`.NET Standard`）。分析每个`.csproj`的当前`TargetFramework`和SDK使用情况。"

  - name: "依赖兼容性审查"
    prompt: "审查外部和内部依赖项的框架兼容性。根据依赖图深度确定升级复杂性。"

  - name: "遗留包检测"
    prompt: "识别需要迁移到`PackageReference`格式的遗留`packages.config`项目。"

  # 升级策略和排序
  - name: "项目升级排序"
    prompt: "推荐从最少到最依赖组件的项目升级顺序。建议如何在API或Azure Function迁移之前隔离类库升级。"

  - name: "增量策略规划"
    prompt: "提出具有回滚检查点的增量升级策略。基于项目结构评估使用**升级助手**或**手动升级**。"

  - name: "进度跟踪设置"
    prompt: "生成用于跟踪所有项目构建、测试和部署就绪状态的升级清单。"

  # 框架目标和代码调整
  - name: "目标框架选择"
    prompt: "为每个项目建议正确的`TargetFramework`（例如，`net8.0`）。审查和更新过时的SDK或构建配置。"

  - name: "代码现代化分析"
    prompt: "识别需要现代化的代码模式（例如，`WebHostBuilder` → `HostBuilder`）。建议替换过时的.NET API和第三方库。"

  - name: "异步模式转换"
    prompt: "建议在适当时将同步调用转换为异步，以提高性能和可扩展性。"

  # NuGet和依赖管理
  - name: "包兼容性分析"
    prompt: "分析过时或不兼容的NuGet包并建议兼容版本。识别缺乏.NET 8支持的第三方库并提供迁移路径。"

  - name: "共享依赖策略"
    prompt: "推荐处理跨项目共享依赖升级的策略。评估遗留包的使用并建议Microsoft支持命名空间中的替代方案。"

  - name: "传递依赖审查"
    prompt: "审查升级后的传递依赖和潜在版本冲突。建议依赖冲突的解决策略。"

  # CI/CD和构建管道更新
  - name: "管道配置分析"
    prompt: "分析YAML构建定义的SDK版本固定并建议更新。建议对`UseDotNet@2`和`NuGetToolInstaller`任务进行修改。"

  - name: "构建管道现代化"
    prompt: "为.NET 8迁移生成更新的构建管道片段。建议在合并到main之前在功能分支上进行验证构建。"

  - name: "CI自动化增强"
    prompt: "识别在CI管道中自动化测试和构建验证的机会。建议持续集成验证的策略。"

  # 测试和验证
  - name: "构建验证策略"
    prompt: "提出验证检查以确保升级后的解决方案成功构建和运行。建议升级后自动执行单元和集成测试套件。"

  - name: "服务集成验证"
    prompt: "生成验证步骤以验证日志记录、遥测和服务连接性。建议验证向后兼容性和运行时行为的策略。"

  - name: "部署就绪检查"
    prompt: "建议生产发布前的UAT部署验证步骤。为升级组件创建全面的测试场景。"

  # 破坏性变更分析
  - name: "API弃用检测"
    prompt: "识别目标版本之间已弃用的API或已移除的命名空间。建议使用`.NET升级助手`和API分析器进行自动扫描。"

  - name: "API替换策略"
    prompt: "为已知破坏性区域推荐替换API或库。审查配置变更，如`Startup.cs` → `Program.cs`重构。"

  - name: "回归测试重点"
    prompt: "建议专注于升级的API端点或服务的回归测试场景。为关键功能验证创建测试计划。"

  # 版本控制和提交策略
  - name: "分支策略规划"
    prompt: "推荐具有回滚能力的安全升级分支策略。为部分和完整项目升级生成提交模板。"

  - name: "PR结构优化"
    prompt: "建议创建结构化PR的最佳实践（`Upgrade to .NET [Version]`）。识别涉及破坏性变更的PR的标记策略。"

  - name: "代码审查指南"
    prompt: "推荐同行审查重点领域（构建、测试和依赖验证）。创建有效升级审查的清单。"

  # 文档和沟通
  - name: "升级文档策略"
    prompt: "建议如何在PR中记录每个项目的框架变更。提出自动发布说明生成，总结升级和测试结果。"

  - name: "利益相关者沟通"
    prompt: "建议向消费者沟通版本升级和迁移时间表。生成依赖更新和验证结果的文档模板。"

  - name: "进度跟踪系统"
    prompt: "建议维护升级摘要仪表板或markdown清单。创建跟踪多个项目升级进度的模板。"

  # 工具和自动化
  - name: "升级工具选择"
    prompt: "推荐何时以及如何使用：`.NET升级助手`、`dotnet list package --outdated`、`dotnet migrate`和`graph.json`依赖可视化。"

  - name: "分析脚本生成"
    prompt: "生成升级前分析依赖图的脚本或提示。提出AI辅助提示，供Copilot自动识别升级问题。"

  - name: "多仓库验证"
    prompt: "建议如何验证跨多个仓库的自动化输出。为企业级升级创建标准化验证工作流。"

  # 最终验证和交付
  - name: "最终解决方案验证"
    prompt: "生成验证步骤以确认最终升级解决方案通过所有验证检查。建议升级后的生产部署验证步骤。"

  - name: "部署就绪确认"
    prompt: "建议生成最终测试结果和构建产物。创建跨项目（构建/测试/部署）完成的清单摘要。"

  - name: "发布文档"
    prompt: "生成总结框架变更和CI/CD更新的发布说明。创建全面的升级摘要文档。"

---