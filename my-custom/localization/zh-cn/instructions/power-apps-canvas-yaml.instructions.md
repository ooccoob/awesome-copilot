---
applyTo: "power-apps-canvas-yaml.instructions.md"
---

<!-- 本文件为自动翻译，供参考。请结合实际需求进行校对和完善。-->

# Power Apps Canvas YAML 指南

## 1. 基本原则

- **结构清晰**：YAML 文件应层次分明，缩进统一，避免混用空格和制表符。
- **注释充分**：对关键配置、复杂表达式添加注释，便于维护。
- **命名规范**：控件、变量、函数等命名应语义化，避免拼音和缩写。

## 2. 组件与控件

- **组件复用**：优先使用组件封装可复用 UI 和逻辑。
- **属性配置**：所有控件属性应显式声明，避免依赖默认值。
- **事件处理**：事件表达式应简洁明了，复杂逻辑建议拆分为函数。

## 3. 数据与变量

- **数据源管理**：所有数据源应集中声明，便于统一管理和切换。
- **变量作用域**：区分全局变量（Set）、上下文变量（UpdateContext）、集合（Collect），避免作用域混乱。
- **数据校验**：对用户输入和外部数据进行校验，防止脏数据流入。

## 4. 表达式与函数

- **表达式简洁**：复杂表达式应拆分为多个步骤或函数，提升可读性。
- **函数复用**：通用逻辑应封装为函数，避免重复代码。
- **错误处理**：所有外部调用应有错误处理分支。

## 5. 安全与合规

- **敏感信息保护**：不得在 YAML 中明文存储密码、密钥等敏感信息。
- **权限最小化**：数据源和操作权限应遵循最小权限原则。
- **合规检查**：定期审查配置，确保符合组织安全和合规要求。

## 6. 版本与发布

- **版本控制**：所有 YAML 文件应纳入版本管理（如 Git）。
- **变更记录**：重要变更应在注释或提交信息中说明。
- **自动化部署**：推荐集成自动化部署和回滚机制。

---

免责声明：本翻译仅供参考，具体实践请结合实际项目需求和最新官方文档。
