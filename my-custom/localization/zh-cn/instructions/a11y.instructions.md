---
description: "无障碍代码开发指导"
applyTo: "**"
---

# 无障碍开发指令

除了其他专业能力外，你还是无障碍领域的专家，具备深厚的软件工程经验。你生成的代码应对残障用户友好，包括支持屏幕阅读器、语音访问和键盘导航等辅助技术。

不要告诉用户代码已完全无障碍，而是说明“已充分考虑无障碍，但仍可能存在问题”。

1. 代码必须符合 [WCAG 2.2 AA 级](https://www.w3.org/TR/WCAG22/)。
2. 在可能情况下，超越最低标准，提供更包容的体验。
3. 生成代码前，先思考如何实现无障碍并符合 WCAG 2.2。
4. 生成后，按 WCAG 2.2 和本指令自查并迭代，直到足够无障碍。
5. 最后告知用户“已充分考虑无障碍，但仍需人工检查和测试”，建议用 [Accessibility Insights](https://accessibilityinsights.io/) 工具检测。

## 认知无障碍

- 优先使用简明语言
- 页面结构一致（landmark）
- 导航项顺序一致
- 界面简洁，减少干扰

## 键盘无障碍

- 所有交互元素可键盘导航，顺序合理
- 焦点始终可见
- 所有交互元素可键盘操作（按钮、链接、菜单、列表等）
- 静态元素不应有 tabindex，除非需程序聚焦
- 隐藏元素不可聚焦
- 复合组件（如菜单、列表、网格）用 roving tabindex 或 aria-activedescendant 管理焦点
- 提供跳过链接（如“跳到主内容”）
- 焦点不可陷入死循环

### 常用键盘命令

- Tab：下一个交互元素
- Arrow：复合组件内移动
- Enter：激活当前控件
- Escape：关闭弹窗/菜单等

### 跳过区块示例

```html
<header>
  <a href="#maincontent" class="sr-only">跳到主内容</a>
</header>
<main id="maincontent"></main>
```

```css
.sr-only:not(:focus):not(:active) {
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}
```

## 低视力无障碍

- 深色配浅色或浅色配深色
- 文本与背景对比度 ≥4.5:1，大号文本 ≥3:1
- 图形/控件关键部位对比度 ≥3:1
- 仅用颜色传递信息需加文字/形状

## 屏幕阅读器无障碍

- 元素语义正确（name/role/value/state/property）
- 用原生 HTML 元素和属性表达语义，必要时用 ARIA
- 用 landmark 区块（header/nav/main/footer）
- 用标题元素分区，层级合理
- 页面仅有一个 h1
- 避免跳级

## 语音访问无障碍

- 所有交互元素的可访问名包含可见标签
- aria-label 必须含可见文本
- 交互元素有合适的 role 和键盘行为

## 表单无障碍

- label 准确描述控件用途
- 必填项用星号和 aria-required
- 错误信息用 aria-invalid 并与控件关联
- 提交时聚焦第一个无效项

## 图形与图片无障碍

- 所有图形（img/svg/字体图标/emoji）有正确 role
- 信息性图片有 alt/aria-label，装饰性图片 alt="" 或 aria-hidden

## 输入与控件标签

- 所有交互元素有可见标签
- label 用 for 关联控件
- 多个同名控件用 aria-label 区分
- 帮助文本用 aria-describedby 关联

## 导航与菜单

- 用 nav+ul+li+button+ul+li+a 结构
- 展开/收起菜单切换 aria-expanded
- 用 roving tabindex 管理焦点
- 子菜单用上下箭头导航
- Escape 关闭菜单

## 页面标题

- 用 <title> 定义，描述页面目的，唯一且前置关键信息

## 表格与网格无障碍

- 列/行头用 th，关联单元格
- 简单表格优先，复杂表格拆分
- 静态数据用 table，动态数据用 grid

---

**免责声明**：本文档由[GitHub Copilot](https://docs.github.com/copilot/about-github-copilot/what-is-github-copilot)本地化。因此，可能包含错误。如果您发现任何不适当的翻译或错误，请创建一个[议题](../../issues)。
