---
description: 'Guidelines for creating high-quality prompt files for GitHub Copilot'
applyTo: '**/*.prompt.md'
---

# 副驾驶提示文件指南

创建有效且可维护的提示文件的说明，指导 GitHub Copilot 在任何存储库中提供一致、高质量的结果。

## 范围和原则
- 目标受众：为 Copilot Chat 创作可重用提示的维护者和贡献者。
- 目标：可预测的行为、明确的期望、最小的权限以及跨存储库的可移植性。
- 主要参考：有关提示文件和组织特定约定的 VS Code 文档。

## 前言要求

每个提示文件都应包含带有以下字段的 YAML frontmatter：

### 必填/推荐字段

|领域 |必填 |描述 |
|-------|----------|-------------|
| __代码0__ |推荐|提示的简短描述（单个句子，可操作的结果）|
| __代码0__ |可选|在聊天中输入 `/` 后显示的名称。如果未指定，则默认为文件名 |
| __代码0__ |推荐|要使用的代理：`ask`、`edit`、`agent` 或自定义代理名称。默认为当前代理|
| __代码0__ |可选|要使用的语言模型。默认为当前选定的模型 |
| __代码0__ |可选|此提示可用的工具/工具集名称列表 |
| __代码0__ |可选|聊天输入中显示的提示文本以指导用户交互 |

### 指南

- 使用一致的引用（建议使用单引号）并每行保留一个字段，以提高可读性和版本控制清晰度
- 如果指定了 `tools` 并且当前代理是 `ask` 或 `edit`，则默认代理将变为 `agent`
- 保留您的组织所需的任何其他元数据（`language`、`tags`、`visibility` 等）

## 文件命名和放置
- 使用以 `.prompt.md` 结尾的短横线文件名并将其存储在 `.github/prompts/` 下，除非您的工作区标准指定了另一个目录。
- 提供传达操作的短文件名（例如，`generate-readme.prompt.md` 而不是 `prompt1.prompt.md`）。

## 车身结构
- 从与提示意图匹配的 `#` 级别标题开始，以便它在快速选择搜索中很好地显示。
- 用可预测的部分来组织内容。建议的基线：`Mission` 或 `Primary Directive`、`Scope & Preconditions`、`Inputs`、`Workflow`（逐步）、`Output Expectations` 和 `Quality Assurance`。
- 调整部分名称以适应领域，但保留逻辑流程：原因→上下文→输入→操作→输出→验证。
- 使用相关链接引用相关提示或说明文件以帮助发现。

## 输入和上下文处理
- 使用 `${input:variableName[:placeholder]}` 作为所需值，并解释用户何时必须提供这些值。尽可能提供默认值或替代方案。
- 仅在必要时才调用上下文变量，例如 `${selection}`、`${file}`、`${workspaceFolder}`，并描述 Copilot 应如何解释它们。
- 记录缺少强制上下文时如何继续（例如，“请求文件路径，如果未定义则停止”）。

## 工具和权限指南
- 将 `tools` 限制为启用该任务的最小集合。当顺序很重要时，按首选执行顺序列出它们。
- 如果提示从聊天模式继承工具，请提及该关系并说明任何关键的工具行为或副作用。
- 警告破坏性操作（文件创建、编辑、终端命令），并在工作流程中包含防护栏或确认步骤。

## 指导语气和风格
- 以针对 Copilot 的直接、祈使句编写（例如“分析”、“生成”、“总结”）。
- 保持句子简短且明确，遵循 Google 开发者文档翻译最佳实践以支持本地化。
- 避免使用习语、幽默或特定文化的参考内容；喜欢中立、包容的语言。

## 输出定义
- 指定预期结果的格式、结构和位置（例如，“使用下面的模板创建 `docs/adr/adr-XXXX.md`”）。
- 包括成功标准和失败触发器，以便副驾驶知道何时停止或重试。
- 提供验证步骤（手动检查、自动命令或验收标准列表），审阅者可以在运行提示后执行这些步骤。

## 示例和可重用资产
- 嵌入提示应生成或遵循的好/坏示例或支架（Markdown 模板、JSON 存根）。
- 维护内联参考表（功能、状态代码、角色描述）以保持提示的独立性。当上游资源发生变化时更新这些表。
- 链接到权威文档，而不是重复冗长的指南。

## 质量保证清单
- [ ] Frontmatter 字段完整、准确且权限最低。
- [ ] 输入包括占位符、默认行为和后备。
- [ ] 工作流程涵盖准备、执行和后处理，无间断。
- [ ] 输出期望包括格式和存储详细信息。
- [ ] 验证步骤是可操作的（命令、差异检查、审查提示）。
- [ ] 提示中引用的安全、合规性和隐私政策是最新的。
- [ ] 使用代表性场景在 VS Code (`Chat: Run Prompt`) 中提示成功执行。

## 维护指导
- 版本控制提示及其影响的代码；当依赖项、工具或审核流程发生变化时更新它们。
- 定期查看提示以确保工具列表、模型要求和链接文档保持有效。
- 与其他存储库协调：当提示被证明广泛有用时，将常见指导提取到说明文件或共享提示包中。

## 其他资源
- [提示文件文档](https://code.visualstudio.com/docs/copilot/customization/prompt-files#_prompt-file-format)
- [很棒的副驾驶提示文件](https://github.com/github/awesome-copilot/tree/main/prompts)
- [工具配置](https://code.visualstudio.com/docs/copilot/chat/chat-agent-mode#_agent-mode-tools)
