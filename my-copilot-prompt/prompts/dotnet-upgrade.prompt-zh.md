---
name: 《.NET升级分析提示》
描述：“全面的 .NET 框架升级分析和执行的即用型提示”
---
  # 项目发现与评估
  - 名称：《项目分类分析》
    提示：“识别解决方案中的所有项目，并按类型（`.NET Framework`、`.NET Core`、`.NET Standard`）对它们进行分类。分析每个 `.csproj` 以了解其当前的 `TargetFramework` 和 SDK 使用情况。”

  - 名称：“依赖兼容性审查”
    提示：“检查框架兼容性的外部和内部依赖关系。根据依赖关系图深度确定升级复杂性。”

  - 名称：“旧包检测”
    提示：“确定需要迁移到 `PackageReference` 格式的旧版 `packages.config` 项目。”

  # 升级策略和排序
  - 名称：《项目升级订购》
    提示：“建议从最少到最多依赖组件的项目升级顺序。建议如何在 API 或 Azure Function 迁移之前隔离类库升级。”

  - 名称：《增量战略规划》
    提示：“提出带有回滚检查点的增量升级策略。根据项目结构评估**升级助手**或**手动升级**的使用。”

  - 名称：“进度跟踪设置”
    提示：“生成升级清单，用于跟踪所有项目的构建、测试和部署准备情况。”

  # 框架定位和代码调整
  - 名称：《目标框架选择》
    提示：“为每个项目建议正确的 `TargetFramework`（例如 `net8.0`）。检查并更新已弃用的 SDK 或构建配置。”

  - 名称：《代码现代化分析》
    提示：“确定需要现代化的代码模式（例如 `WebHostBuilder` → `HostBuilder`）。建议替换已弃用的 .NET API 和第三方库。”

  - 名称：“异步模式转换”
    提示：“建议在适当的情况下将同步调用转换为异步，以提高性能和可扩展性。”

  # NuGet 和依赖管理
  - 名称：《包兼容性分析》
    提示：“分析过时或不兼容的 NuGet 包并建议兼容版本。识别缺乏 .NET 8 支持的第三方库并提供迁移路径。”

  - 名称：《共享依赖策略》
    提示：“建议处理跨项目共享依赖项升级的策略。评估旧包的使用情况并建议 Microsoft 支持的命名空间中的替代方案。”

  - 名称：“传递依赖审查”
提示：“升级后检查传递依赖项和潜在的版本冲突。针对依赖项冲突提出解决策略建议。”

  # CI/CD 和构建管道更新
  - 名称：《管道配置分析》
    提示：“分析 SDK 版本固定的 YAML 构建定义并建议更新。建议对 `UseDotNet@2` 和 `NuGetToolInstaller` 任务进行修改。”

  - 名称：《建设管道现代化》
    提示：“为 .NET 8 迁移生成更新的构建管道片段。建议在合并到主分支之前在功能分支上进行验证构建。”

  - 名称：《CI自动化增强》
    提示：“确定在 CI 管道中自动化测试和构建验证的机会。提出持续集成验证策略。”

  # 测试与验证
  - 名称：“构建验证策略”
    提示：“建议进行验证检查，以确保升级后的解决方案成功构建和运行。建议升级后对单元和集成套件进行自动测试执行。”

  - 名称：《服务集成验证》
    提示：“生成验证步骤来验证日志记录、遥测和服务连接。提出验证向后兼容性和运行时行为的策略。”

  - 名称：“部署准备情况检查”
    提示：“建议在生产部署之前执行 UAT 部署验证步骤。为升级的组件创建全面的测试场景。”

  # 重大变化分析
  - 名称：“API 弃用检测”
    提示：“识别目标版本之间已弃用的 API 或已删除的命名空间。建议使用 `.NET Upgrade Assistant` 和 API 分析器进行自动扫描。”

  - 名称：《API替换策略》
    提示：“针对已知损坏区域推荐替换 API 或库。查看配置更改，例如 `Startup.cs` → `Program.cs` 重构。”

  - 名称：《回归测试焦点》
    提示：“建议专注于升级的 API 端点或服务的回归测试场景。为关键功能验证创建测试计划。”

  # 版本控制和提交策略
  - 名称：《分支机构战略规划》
    提示：“建议具有回滚功能的安全升级的分支策略。为部分和完整的项目升级生成提交模板。”

  - 名称：《PR结构优化》
    提示：“建议创建结构化 PR 的最佳实践 (`Upgrade to .NET [Version]`)。确定涉及重大变更的 PR 的标记策略。”

  - 名称：《代码审查指南》
提示：“推荐同行评审重点领域（构建、测试和依赖项验证）。创建有效升级评审的清单。”

  # 文档与沟通
  - 名称：《升级文档策略》
    提示：“建议如何在 PR 中记录每个项目的框架更改。建议自动生成发行说明，总结升级和测试结果。”

  - 名称：《利益相关者沟通》
    提示：“建议向消费者传达版本升级和迁移时间表。为依赖项更新和验证结果生成文档模板。”

  - 名称：“进度跟踪系统”
    提示：“建议维护升级摘要仪表板或降价清单。创建用于跟踪多个项目的升级进度的模板。”

  # 工具与自动化
  - 名称：《升级工具选择》
    提示：“建议何时以及如何使用：`.NET Upgrade Assistant`、`dotnet list package --outdated`、`dotnet migrate` 和 `graph.json` 依赖关系可视化。”

  - 名称：“分析脚本生成”
    提示：“在升级之前生成用于分析依赖关系图的脚本或提示。建议使用 AI 辅助提示，让 Copilot 自动识别升级问题。”

  - 名称：“多存储库验证”
    提示：“建议如何跨多个存储库验证自动化输出。为企业规模升级创建标准化验证工作流程。”

  # 最终验证和交付
  - 名称：“最终解决方案验证”
    提示：“生成验证步骤以确认最终升级的解决方案通过所有验证检查。建议升级后的生产部署验证步骤。”

  - 名称：“部署准备确认”
    提示：“建议生成最终测试结果并构建工件。创建一个清单，总结跨项目的完成情况（构建/测试/部署）。”

  - 名称：“发布文档”
    提示：“生成总结框架更改和 CI/CD 更新的发行说明。创建全面的升级摘要文档。”

---
